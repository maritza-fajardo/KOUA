<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
   
    <script>

        var URL = window.webkitURL || window.URL;

        function encodeImage(src, callback)
        {
          
           var canvas = document.createElement('canvas'),
                ctx = canvas.getContext('2d'),
                img = new Image();

            img.onload = function ()
            {
                canvas.width = img.width;
                canvas.height = img.height;
                ctx.drawImage(img, 0, 0, img.width, img.height);
                callback(canvas.toDataURL());//Image become to a string
            }

            img.src = src;;
        }

        window.onload = function ()
        {
            var input = document.getElementById('fileImage');
            input.addEventListener('change', handleFiles, false);
            
        }


        function handleFiles(e)
        {
           
            var urlImage = URL.createObjectURL(e.target.files[0]);         

            encodeImage(urlImage, 
                function (encodedImage)//Image to a string
            {
                document.getElementById('data').value = encodedImage;
                document.getElementById('imgTest').src = encodedImage;
            }
            );
        }

    </script>
</head>
<body>
    <table>
        <tr>
            <td colspan="2"><input id="fileImage" type="file" /></td>
           
        </tr>
        <tr>
            <td><textarea id="data"></textarea></td>
            <td><img id="imgTest"  /></td>
        </tr>
    </table>
   
    
  
  

   
</body>
</html>
